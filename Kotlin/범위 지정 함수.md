## 범위 지정 함수

코틀린의 라이브러리인 범위 지정 함수는 1) 특정 객체에 있는 함수를 연속해서 사용하거나, 2) 다른 함수의 인자로 전달하기 위해 특정 블록을 생성할 때 유용하게 사용할 수 있다.

#### let()

let() 함수는 이 함수를 호출한 객체를 이어지는 함수 블록의 인자로 전달한다. 정의는 다음과 같다.

#### `fun <T,R> T.let(block: (T) -> R): R`

let()함수를 통해 불필요한 변수 선언을 방지할 수 있다. 예를 들어 커스텀 뷰를 작성하다 보면 길이를 계산한 값을 변수에 저장해두고, 이를 함수 호출 시 인자로 전달하는 경우가 흔하다.  예시를 살펴보자 

```kotlin
val padding = TypeValue.applyDimenstion(
							TypedValue.COMPLEX_UNIT_DIP, 16f,resource.displayMetrics).toInt()
//패딩 값을 설정한다
setPadding(padding, 0, padding, 0)
```

이 경우, let() 함수를 사용하면 padding 변수를 선언하지 않고 계산된 패딩 값을 함수의 각 인자로 넣어줄 수 있다.

```kotlin
TypeValue.applyDimension(
					TypedValue.COMPLEX_UNIT_DIP, 16f, resource.displayMetrics
).toInt().let{
  //여기서 it은 위의 예제의 padding과 같은 값이다. 그대로 let 함수의 인자의 인자로 넘어온 것이다.
	setPadding(it,0,it,0)
}
```

또한 널 값이 아닌 경우를 체크한 후에 특정 작업을 수행하는 코드에도 let()함수는 유용하게 쓰인다.

```kotlin
fun doSomething(message: String?){
  //message	값이 널이 아닌 경우에만 let함수가 호출된다.
  message?.let{
    Toast.makeText(this, it, Toast.LENGTH_SHORT).show()
  }
}
```

#### apply()

apply()함수는 이 함수를 호출한 객체를 이어지는 함수 블록의 리시버로 전달한다. 

####`fun <T> T.apply(block: T.() -> Unit):T`

이 함수를 호출하는 객체를 이어지는 함수형 인자 block의 리시버로 전달하며, 함수를 호출한 객체를 반환한다. apply() 블록 내에서는 해당 객체 내의 프로퍼티나 함수를 직접 호출이 가능하다. 따라서 객체를 일일이 명시하지 않아도 되므로, 코드를 간략하게 만드는데 큰 도움이 된다. let()에서는 호출한 객체 자체를 인자로 받지만, apply()에서는 호출한 객체의 리시버를 함수형 인자로 전달하므로 객체가 가지는 프로퍼티나 함수를 객체 없이 쓸 수 있다.

```
val param = LinearLayout.LayoutParams(
LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT).apply {
	gravity = Gravity.CENTER_HORIZONTAL
	weight = 1f
	topMargin = 100
	bottomMargin = 100
}
```

